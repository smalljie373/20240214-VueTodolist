import{r as d,u as v,o as f,a as w,b as k,c as y,d as V,e,w as c,f as m,v as u,F as T,g as L,h as N,i as p}from"./index-mNU3Ar7u.js";import{_ as g}from"./Vector-QDL8Xk59.js";import{_ as E}from"./img-zi6X1Ou3.js";const B={class:"container pt-5 md:pt-12"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},S=e("div",{class:"me-5 hidden md:block"},[e("h1",{class:"font-bold text-2xl text-center mb-1"},[e("img",{src:g,alt:"Vector_img",class:"inline-block"}),L(" ONLINE TODO LIST ")]),e("img",{src:E,alt:"Todolist_img",class:"block m-auto"})],-1),$={class:"mx-3"},D=N('<h2 class="text-2xl font-bold hidden md:block my-5">最實用的線上代辦事項服務</h2><div class="block md:hidden text-center"><h2 class="text-2xl font-bold text-center"><img src="'+g+'" alt="Vector_img" class="inline-block"> ONLINE TODO LIST </h2><h3 class="text-xl font-bold mt-3">最實用的線上代辦事項服務</h3></div>',2),I={class:"pt-4"},C=e("label",{for:"loginEmail",class:"form-label my-3"},"Email",-1),M={class:"pt-4"},U=e("label",{for:"loginpassword",class:"form-label my-3"},"密碼",-1),j={class:"flex flex-col md:flex-row mx-auto pt-5"},q=e("input",{class:"btn w-full mt-2 md:mx-2 text-white border rounded border-red-600 bg-red-600 hover:bg-red-500 hover:border-red-500",id:"loginBtn",type:"submit",value:"登入"},null,-1),G={__name:"LoginView",setup(F){const i=d(!0),r=v(),n=p("$swal"),h=()=>{r.push("/signup")};f(()=>{s.value={user:{email:"",password:""}},setTimeout(()=>{i.value=!1},500)});const _="https://todoo.5xcamp.us/",x=p("axios"),s=d({user:{email:"",password:""}}),b=async()=>{try{const o=await x.post(`${_}users/sign_in`,s.value);n.fire({icon:"success",title:o.data.message,text:`歡迎${o.data.nickname}`,showConfirmButton:!1,timer:1500}),setTimeout(()=>{const t=o.headers.authorization,a=o.data.nickname;document.cookie=`todoToken=${t};  max-age=1200`,document.cookie=`username=${a}; max-age=1200`,r.push("/todolist")},1500)}catch(o){n.fire({icon:"error",title:o.response.data.message,text:"帳號不存在或帳號密碼錯誤"}),s.value={user:{email:"",password:""}}}};return(o,t)=>{const a=w("VueLoading");return k(),y(T,null,[V(a,{active:i.value},null,8,["active"]),e("main",B,[e("div",O,[S,e("div",$,[D,e("form",{class:"container",onSubmit:c(b,["prevent"])},[e("div",I,[C,m(e("input",{type:"email",class:"form-control h-[50px]",id:"loginEmail",placeholder:"請輸入Email","onUpdate:modelValue":t[0]||(t[0]=l=>s.value.user.email=l),required:""},null,512),[[u,s.value.user.email]])]),e("div",M,[U,m(e("input",{type:"password",class:"form-control h-[50px]",id:"loginpassword",placeholder:"請輸入密碼","onUpdate:modelValue":t[1]||(t[1]=l=>s.value.user.password=l),required:""},null,512),[[u,s.value.user.password]])]),e("div",j,[q,e("input",{class:"btn w-full mt-2 md:mx-2 text-white border rounded border-gray-500 bg-gray-500 hover:bg-gray-400 hover:border-gray-400",id:"loginjoinBtn",type:"submit",value:"註冊帳號",onClick:c(h,["prevent"])})])],32)])])])],64)}}};export{G as default};
