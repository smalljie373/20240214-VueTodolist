import{u as x,r as d,o as w,a as y,b as k,c as V,d as T,e,w as u,f as l,v as i,F as L,g as N,h as E,i as p}from"./index-mNU3Ar7u.js";import{_}from"./Vector-QDL8Xk59.js";import{_ as B}from"./img-zi6X1Ou3.js";const O={class:"container pt-5 md:pt-8"},C={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},S=e("div",{class:"me-5 md:pt-5 hidden md:block"},[e("h1",{class:"font-bold text-2xl text-center mb-1"},[e("img",{src:_,alt:"Vector_img",class:"inline-block"}),N(" ONLINE TODO LIST ")]),e("img",{src:B,alt:"Todolist_img",class:"block m-auto"})],-1),U={class:"mx-3"},q=E('<h2 class="text-2xl font-bold hidden md:block my-5">最實用的線上代辦事項服務</h2><div class="block md:hidden text-center"><h2 class="text-2xl font-bold text-center"><img src="'+_+'" alt="Vector_img" class="inline-block"> ONLINE TODO LIST </h2><h3 class="text-xl font-bold mt-3">最實用的線上代辦事項服務</h3></div>',2),D={class:"pt-2"},I=e("label",{for:"registrationEmail",class:"form-label my-3"},"Email",-1),M={class:"pt-2"},$=e("label",{for:"registrationname",class:"form-label my-3"},"您的暱稱",-1),F={class:"pt-2"},j=e("label",{for:"registrationpassword",class:"form-label my-3"},"密碼",-1),A={class:"pt-2"},R=e("label",{for:"passwordConfirm",class:"form-label my-3"},"再次輸入密碼",-1),z={class:"flex flex-col md:flex-row mx-auto pt-5"},G=e("input",{class:"btn w-full mt-2 md:mx-2 text-white border rounded border-red-600 bg-red-600 hover:bg-red-500 hover:border-red-500",id:"registrationBtn",type:"submit",value:"註冊帳號"},null,-1),Q={__name:"SignupView",setup(H){const n=p("$swal"),h=x(),c=d(!0),m=()=>{h.push("/")},f="https://todoo.5xcamp.us/",g=p("axios");w(()=>{setTimeout(()=>{c.value=!1},1e3)});const s=d({user:{email:"",nickname:"",password:""}}),r=d(""),v=async()=>{if(r.value!==s.value.user.password)n.fire({icon:"error",title:"註冊錯誤",text:"註冊密碼不同"});else try{const a=await g.post(`${f}users`,s.value);n.fire({icon:"success",title:a.data.message,text:`帳號名稱:${a.data.nickname}，註冊成功，並於3秒後返回登入頁面!`,showConfirmButton:!1,timer:3e3}),setTimeout(()=>{m()},3e3)}catch(a){n.fire({icon:"error",title:a.response.data.message,text:a.response.data.error[0]})}s.value={user:{email:"",nickname:"",password:""}},r.value=""};return(a,t)=>{const b=y("VueLoading");return k(),V(L,null,[T(b,{active:c.value},null,8,["active"]),e("main",O,[e("div",C,[S,e("div",U,[q,e("form",{class:"container",onSubmit:u(v,["prevent"])},[e("div",D,[I,l(e("input",{type:"email",class:"form-control h-[50px]",id:"registrationEmail",placeholder:"請輸入Email","onUpdate:modelValue":t[0]||(t[0]=o=>s.value.user.email=o),required:""},null,512),[[i,s.value.user.email]])]),e("div",M,[$,l(e("input",{type:"text",class:"form-control h-[50px]",id:"registrationname",placeholder:"請輸入您的暱稱","onUpdate:modelValue":t[1]||(t[1]=o=>s.value.user.nickname=o),required:""},null,512),[[i,s.value.user.nickname]])]),e("div",F,[j,l(e("input",{type:"password",class:"form-control h-[50px]",id:"registrationpassword",placeholder:"請輸入密碼","onUpdate:modelValue":t[2]||(t[2]=o=>s.value.user.password=o),required:""},null,512),[[i,s.value.user.password]])]),e("div",A,[R,l(e("input",{type:"password",class:"form-control h-[50px]",id:"passwordConfirm",placeholder:"請再次輸入密碼","onUpdate:modelValue":t[3]||(t[3]=o=>r.value=o),required:""},null,512),[[i,r.value]])]),e("div",z,[G,e("input",{class:"btn w-full mt-2 md:mx-2 text-white border rounded border-gray-500 bg-gray-500 hover:bg-gray-400 hover:border-gray-400",id:"registrationloginBtn",type:"submit",value:"登入",onClick:u(m,["prevent"])})])],32)])])])],64)}}};export{Q as default};
